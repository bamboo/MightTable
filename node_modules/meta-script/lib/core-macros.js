var _$0;
_$0: {
    module.exports = function (ast) {
        var composeMacroArguments, _$1, _$2, _$3, _$4, _$5, _$6, _$7, _$8, _$9, _$10, _$11, _$12, _$13, _$14, _$15;
        _$2: {
            _$3: {
                composeMacroArguments = function (nameArg, argsTuple) {
                    var nameValue, ok, name, arity, precedence, options, index, arg, simpleValue, skip, property, value, propertyName, simplePropertyValue, func, macroBody, macroArgs, argIndex, macroArg, argDeclaration, _$4, _$5, _$6, _$7, _$8, _$9, _$10, _$11, _$12, _$13, _$14, _$15, _$16, _$17, _$18, _$19, _$20, _$21, _$22;
                    _$5: {
                        nameValue = nameArg.getSimpleValue();
                        if (nameValue === null) {
                            _$6: {
                                argsTuple.error('Invalid name argument');
                                return null;
                            }
                        }
                        if (!argsTuple.isTuple()) {
                            _$7: {
                                argsTuple.error('Expected tuple argument');
                                return null;
                            }
                        }
                        _$8: {
                            ok = true;
                            name = nameArg.newValue(nameValue);
                            arity = ast.newValue('unary');
                            precedence = ast.newValue('LOW');
                            options = ast.newObjectLiteral();
                        }
                        index = 0;
                        _$9:
                            while (true) {
                                if (index < argsTuple.count) {
                                    _$10: {
                                        arg = argsTuple.at(index);
                                        simpleValue = arg.getSimpleValue();
                                        if (simpleValue !== null) {
                                            if (index === 0) {
                                                arity = arg.newValue(simpleValue);
                                            } else {
                                                if (index === 1) {
                                                    precedence = arg.newValue(simpleValue);
                                                } else {
                                                    _$11: {
                                                        arg.error('Invalid simple property');
                                                        ok = false;
                                                    }
                                                }
                                            }
                                        } else {
                                            if (arg.isProperty()) {
                                                _$12: {
                                                    skip = false;
                                                    property = arg.copy();
                                                    value = property.at(1);
                                                    propertyName = property.at(0).getSimpleValue();
                                                    simplePropertyValue = value.getSimpleValue();
                                                    if (propertyName === 'arity' && simplePropertyValue !== null) {
                                                        _$13: {
                                                            arity = arg.newValue(simplePropertyValue);
                                                            skip = true;
                                                        }
                                                    } else {
                                                        if (propertyName === 'precedence' && simplePropertyValue !== null) {
                                                            _$14: {
                                                                precedence = arg.newValue(simplePropertyValue);
                                                                skip = true;
                                                            }
                                                        } else {
                                                            if (value.isFunctionDefinition()) {
                                                                _$15: {
                                                                    func = value.copy();
                                                                    macroBody = func.pop().asTuple();
                                                                    macroArgs = func.pop().asTuple();
                                                                    func.push(arg.newTag('ast'));
                                                                    func.push(macroBody);
                                                                    argIndex = 0;
                                                                    _$16:
                                                                        while (true) {
                                                                            if (argIndex < macroArgs.count) {
                                                                                _$17: {
                                                                                    macroArg = macroArgs.at(argIndex);
                                                                                    if (macroArg.isTag()) {
                                                                                        _$18: {
                                                                                            argDeclaration = ast.fromJsonString('{"id":"=","kind":"builtin","val":"=","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":54,"column":60},"end":{"line":54,"column":60}},"args":[{"id":"<tagDeclaration>","kind":"tag","val":"__argName","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":54,"column":46},"end":{"line":54,"column":50}},"args":[]},{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":54,"column":69},"end":{"line":54,"column":69}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":54,"column":65},"end":{"line":54,"column":65}},"args":[{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":54,"column":62},"end":{"line":54,"column":62}},"args":[]},{"id":"<name>","kind":"tag","val":"at","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":54,"column":66},"end":{"line":54,"column":66}},"args":[]}]},{"id":"<tag>","kind":"tag","val":"__argIndex","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":54,"column":69},"end":{"line":54,"column":69}},"args":[]}]}]}');
                                                                                            argDeclaration.replaceTag('__argName', macroArg.newTag(macroArg.getTag()).handleAsTagDeclaration());
                                                                                            argDeclaration.replaceTag('__argIndex', macroArg.newValue(argIndex));
                                                                                            macroBody.unshift(argDeclaration);
                                                                                        }
                                                                                    } else {
                                                                                        _$19: {
                                                                                            macroArg.error('Argument name expected');
                                                                                            ok = false;
                                                                                        }
                                                                                    }
                                                                                    argIndex = argIndex + 1;
                                                                                    continue;
                                                                                }
                                                                            }
                                                                            break _$16;
                                                                        }
                                                                    if (ok) {
                                                                        _$20: {
                                                                            property.pop();
                                                                            property.push(func);
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                    if (!skip) {
                                                        options.push(property);
                                                    }
                                                }
                                            } else {
                                                _$21: {
                                                    arg.error('Invalid property');
                                                    ok = false;
                                                }
                                            }
                                        }
                                        index = index + 1;
                                        continue;
                                    }
                                }
                                break _$9;
                            }
                        if (ok) {
                            _$22 = [
                                name,
                                arity,
                                precedence,
                                options
                            ];
                        } else {
                            _$22 = null;
                        }
                        _$4 = _$22;
                        break _$5;
                    }
                    return _$4;
                };
                ast.defineSymbol(ast.createMacro('#exec-meta', 'unary', 'LOW', {
                    'postCombine': function (ast) {
                        var code, innerDo, _$4, _$5;
                        _$5: {
                            code = ast.at(0).copy();
                            innerDo = ast.newDo([
                                code.copy(),
                                ast.newTag('null')
                            ]);
                            _$4 = ast.newMeta(innerDo);
                            break _$5;
                        }
                        return _$4;
                    }
                }));
                ast.defineSymbol(ast.createMacro('#keep-meta', 'unary', 'LOW', {
                    'postCombine': function (ast) {
                        var code, tail, innerDo, _$4, _$5;
                        _$5: {
                            code = ast.at(0).copy();
                            tail = ast.fromJsonString('{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":28},"end":{"line":92,"column":51}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":44},"end":{"line":92,"column":44}},"args":[{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":41},"end":{"line":92,"column":43}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":38},"end":{"line":92,"column":38}},"args":[{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":35},"end":{"line":92,"column":37}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":32},"end":{"line":92,"column":32}},"args":[{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":29},"end":{"line":92,"column":29}},"args":[]},{"id":"<name>","kind":"tag","val":"at","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":33},"end":{"line":92,"column":33}},"args":[]}]},{"id":"<value>","kind":"value","val":0,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":35},"end":{"line":92,"column":37}},"args":[]}]},{"id":"<name>","kind":"tag","val":"at","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":39},"end":{"line":92,"column":39}},"args":[]}]},{"id":"<value>","kind":"value","val":0,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":41},"end":{"line":92,"column":43}},"args":[]}]},{"id":"<name>","kind":"tag","val":"copy","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":45},"end":{"line":92,"column":45}},"args":[]}]},{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":92,"column":49},"end":{"line":92,"column":50}},"args":[]}]}');
                            innerDo = ast.newDo([
                                code.copy(),
                                tail
                            ]);
                            _$4 = ast.newMeta(innerDo);
                            break _$5;
                        }
                        return _$4;
                    }
                }));
                ast.defineSymbol(ast.createMacro('#macro', 'binaryKeyword', 'LOW', {
                    'expand': function (ast) {
                        var argsTuple, args, result, _$4, _$5, _$6, _$7, _$8;
                        _$5: {
                            if (!ast.count === 2) {
                                _$6: {
                                    ast.error('Expected arguments: name and properties');
                                    return null;
                                }
                            }
                            argsTuple = ast.at(1).asTuple();
                            args = composeMacroArguments(ast.at(0), argsTuple);
                            if (args !== null) {
                                _$8: {
                                    result = ast.fromJsonString('{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":110,"column":32},"end":{"line":110,"column":80}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":110,"column":36},"end":{"line":110,"column":36}},"args":[{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":110,"column":33},"end":{"line":110,"column":33}},"args":[]},{"id":"<name>","kind":"tag","val":"createMacro","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":110,"column":37},"end":{"line":110,"column":37}},"args":[]}]},{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":110,"column":48},"end":{"line":110,"column":79}},"args":[{"id":"<tag>","kind":"tag","val":"__arg0","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":110,"column":48},"end":{"line":110,"column":55}},"args":[]},{"id":"<tag>","kind":"tag","val":"__arg1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":110,"column":55},"end":{"line":110,"column":63}},"args":[]},{"id":"<tag>","kind":"tag","val":"__arg2","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":110,"column":63},"end":{"line":110,"column":71}},"args":[]},{"id":"<tag>","kind":"tag","val":"__arg3","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":110,"column":71},"end":{"line":110,"column":79}},"args":[]}]}]}');
                                    result.replaceTag('__arg0', args[0]);
                                    result.replaceTag('__arg1', args[1]);
                                    result.replaceTag('__arg2', args[2]);
                                    result.replaceTag('__arg3', args[3]);
                                    _$7 = result;
                                    break _$8;
                                }
                            } else {
                                _$7 = null;
                            }
                            _$4 = _$7;
                            break _$5;
                        }
                        return _$4;
                    }
                }));
                ast.defineSymbol(ast.createMacro('#defmacro', 'binaryKeyword', 'LOW', {
                    'postCombine': function (ast) {
                        var argsTuple, args, definition, _$4, _$5, _$6, _$7, _$8;
                        _$5: {
                            if (!ast.count === 2) {
                                _$6: {
                                    ast.error('Expected arguments: name and properties');
                                    return null;
                                }
                            }
                            argsTuple = ast.at(1).asTuple();
                            args = composeMacroArguments(ast.at(0), argsTuple);
                            if (args !== null) {
                                _$8: {
                                    definition = ast.fromJsonString('{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":36},"end":{"line":132,"column":108}},"args":[{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":53},"end":{"line":132,"column":101}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":40},"end":{"line":132,"column":40}},"args":[{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":37},"end":{"line":132,"column":37}},"args":[]},{"id":"<name>","kind":"tag","val":"defineSymbol","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":41},"end":{"line":132,"column":41}},"args":[]}]},{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":53},"end":{"line":132,"column":101}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":57},"end":{"line":132,"column":57}},"args":[{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":54},"end":{"line":132,"column":54}},"args":[]},{"id":"<name>","kind":"tag","val":"createMacro","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":58},"end":{"line":132,"column":58}},"args":[]}]},{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":69},"end":{"line":132,"column":100}},"args":[{"id":"<tag>","kind":"tag","val":"__arg0","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":69},"end":{"line":132,"column":76}},"args":[]},{"id":"<tag>","kind":"tag","val":"__arg1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":76},"end":{"line":132,"column":84}},"args":[]},{"id":"<tag>","kind":"tag","val":"__arg2","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":84},"end":{"line":132,"column":92}},"args":[]},{"id":"<tag>","kind":"tag","val":"__arg3","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":92},"end":{"line":132,"column":100}},"args":[]}]}]}]},{"id":"<tag>","kind":"tag","val":"null","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":132,"column":102},"end":{"line":132,"column":108}},"args":[]}]}');
                                    definition.replaceTag('__arg0', args[0]);
                                    definition.replaceTag('__arg1', args[1]);
                                    definition.replaceTag('__arg2', args[2]);
                                    definition.replaceTag('__arg3', args[3]);
                                    _$7 = ast.newMeta(ast.newDo(definition));
                                    break _$8;
                                }
                            } else {
                                _$7 = null;
                            }
                            _$4 = _$7;
                            break _$5;
                        }
                        return _$4;
                    }
                }));
                ast.defineSymbol(ast.createMacro('#keepmacro', 'binaryKeyword', 'LOW', {
                    'postCombine': function (ast) {
                        var argsTuple, args, definition, result, _$4, _$5, _$6, _$7, _$8;
                        _$5: {
                            if (!ast.count === 2) {
                                _$6: {
                                    ast.error('Expected arguments: name and properties');
                                    return null;
                                }
                            }
                            argsTuple = ast.at(1).asTuple();
                            args = composeMacroArguments(ast.at(0), argsTuple);
                            if (args !== null) {
                                _$8: {
                                    definition = ast.fromJsonString('{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":36},"end":{"line":154,"column":108}},"args":[{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":53},"end":{"line":154,"column":101}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":40},"end":{"line":154,"column":40}},"args":[{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":37},"end":{"line":154,"column":37}},"args":[]},{"id":"<name>","kind":"tag","val":"defineSymbol","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":41},"end":{"line":154,"column":41}},"args":[]}]},{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":53},"end":{"line":154,"column":101}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":57},"end":{"line":154,"column":57}},"args":[{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":54},"end":{"line":154,"column":54}},"args":[]},{"id":"<name>","kind":"tag","val":"createMacro","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":58},"end":{"line":154,"column":58}},"args":[]}]},{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":69},"end":{"line":154,"column":100}},"args":[{"id":"<tag>","kind":"tag","val":"__arg0","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":69},"end":{"line":154,"column":76}},"args":[]},{"id":"<tag>","kind":"tag","val":"__arg1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":76},"end":{"line":154,"column":84}},"args":[]},{"id":"<tag>","kind":"tag","val":"__arg2","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":84},"end":{"line":154,"column":92}},"args":[]},{"id":"<tag>","kind":"tag","val":"__arg3","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":92},"end":{"line":154,"column":100}},"args":[]}]}]}]},{"id":"<tag>","kind":"tag","val":"null","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":154,"column":102},"end":{"line":154,"column":108}},"args":[]}]}');
                                    definition.replaceTag('__arg0', args[0]);
                                    definition.replaceTag('__arg1', args[1]);
                                    definition.replaceTag('__arg2', args[2]);
                                    definition.replaceTag('__arg3', args[3]);
                                    result = ast.newMeta(ast.newDo(definition));
                                    result.sym = ast.keyScope.get('#keep-meta');
                                    _$7 = result;
                                    break _$8;
                                }
                            } else {
                                _$7 = null;
                            }
                            _$4 = _$7;
                            break _$5;
                        }
                        return _$4;
                    }
                }));
            }
            _$4: {
                ast.defineSymbol(ast.createMacro('~`', 'unary', 'LOW', {
                    'expand': function (ast) {
                        return undefined;
                    }
                }));
            }
            _$5: {
                ast.defineSymbol(ast.createMacro('`', 'unary', 'LOW', {
                    'doNotExpandChildren': true,
                    'expand': function (ast) {
                        var code, result, tagReplacements, unquoteIndex, _$6, _$7;
                        _$7: {
                            code = ast.at(0);
                            result = ast.fromJsonString('{"id":"<do>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":180,"column":24},"end":{"line":184,"column":4}},"args":[{"id":"=","kind":"builtin","val":"=","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":181,"column":19},"end":{"line":181,"column":19}},"args":[{"id":"<vTagDeclaration>","kind":"tag","val":"codeTag","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":181,"column":6},"end":{"line":181,"column":11}},"args":[]},{"id":"#quote","kind":"builtin","val":"#quote","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":181,"column":21},"end":{"line":181,"column":21}},"args":[{"id":"<tag>","kind":"tag","val":"code","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":181,"column":28},"end":{"line":181,"column":28}},"args":[]}]}]},{"id":"<tag>","kind":"tag","val":"tagReplacements","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":182,"column":6},"end":{"line":182,"column":21}},"args":[]},{"id":"<vTag>","kind":"tag","val":"codeTag","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":183,"column":6},"end":{"line":183,"column":7}},"args":[]}]}');
                            tagReplacements = [];
                            unquoteIndex = 1;
                            code.forEachRecursive(function (child) {
                                var replacement, replacementName, replacementNameVal, replacementNameTag, tagReplacement, _$8, _$9, _$10, _$11;
                                _$9: {
                                    if (child.id === '~`') {
                                        _$10: {
                                            _$11: {
                                                replacement = child.at(0);
                                                replacementName = 'unquote' + unquoteIndex;
                                                replacementNameVal = child.newValue(replacementName);
                                                replacementNameTag = child.newTag(replacementName);
                                                tagReplacement = ast.fromJsonString('{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":194,"column":36},"end":{"line":194,"column":86}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":194,"column":47},"end":{"line":194,"column":47}},"args":[{"id":"<vTag>","kind":"tag","val":"codeTag","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":194,"column":37},"end":{"line":194,"column":46}},"args":[]},{"id":"<name>","kind":"tag","val":"replaceTag","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":194,"column":48},"end":{"line":194,"column":48}},"args":[]}]},{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":194,"column":58},"end":{"line":194,"column":85}},"args":[{"id":"<tag>","kind":"tag","val":"quotedTagName","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":194,"column":58},"end":{"line":194,"column":72}},"args":[]},{"id":"<tag>","kind":"tag","val":"replacement","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":194,"column":72},"end":{"line":194,"column":85}},"args":[]}]}]}');
                                            }
                                            child.replaceWith(replacementNameTag);
                                            tagReplacement.replaceTag('quotedTagName', replacementNameVal);
                                            tagReplacement.replaceTag('replacement', replacement);
                                            tagReplacements.push(tagReplacement);
                                            unquoteIndex += 1;
                                        }
                                    }
                                    _$8 = undefined;
                                    break _$9;
                                }
                                return _$8;
                            });
                            result.replaceTag('code', code);
                            result.replaceTag('tagReplacements', tagReplacements);
                            result.resolveVirtual();
                            _$6 = result;
                            break _$7;
                        }
                        return _$6;
                    }
                }));
            }
            _$6: {
                ast.defineSymbol(ast.createMacro('do!', 'unary', 'LOW', {
                    'expand': function (ast) {
                        var body, statements, result, _$7, _$8, _$9, _$10, codeTag0;
                        _$8: {
                            body = ast.at(0);
                            statements = body.copy().asTuple();
                            _$10: {
                                codeTag0 = ast.fromJsonString('{"id":"<do>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":212,"column":6},"end":{"line":215,"column":17}},"args":[{"id":"<tag>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":213,"column":8},"end":{"line":213,"column":8}},"args":[]},{"id":"<tag>","kind":"tag","val":"undefined","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":214,"column":8},"end":{"line":214,"column":17}},"args":[]}]}');
                                codeTag0.replaceTag('unquote1', statements.map(function (arg) {
                                    return arg;
                                }));
                                _$9 = codeTag0;
                                break _$10;
                            }
                            result = _$9;
                            _$7 = result;
                            break _$8;
                        }
                        return _$7;
                    }
                }));
            }
            _$7: {
                ast.defineSymbol(ast.createMacro('#metamodule', 'unary', 'LOW', {
                    'expand': function (ast) {
                        var body, _$8, _$9, _$10, _$11, codeTag0;
                        _$9: {
                            body = ast.at(0);
                            _$11: {
                                codeTag0 = ast.fromJsonString('{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":222,"column":6},"end":{"line":229,"column":0}},"args":[{"id":"<xTag>","kind":"tag","val":"module","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":222,"column":6},"end":{"line":222,"column":16}},"args":[]},{"id":"=","kind":"builtin","val":"=","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":223,"column":21},"end":{"line":223,"column":21}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":223,"column":12},"end":{"line":223,"column":12}},"args":[{"id":"<tag>","kind":"tag","val":"module","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":223,"column":6},"end":{"line":223,"column":6}},"args":[]},{"id":"<name>","kind":"tag","val":"exports","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":223,"column":13},"end":{"line":223,"column":13}},"args":[]}]},{"id":"->","kind":"builtin","val":"->","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":223,"column":29},"end":{"line":223,"column":29}},"args":[{"id":"<argument>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":223,"column":23},"end":{"line":223,"column":27}},"args":[]},{"id":"<do>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":224,"column":8},"end":{"line":229,"column":14}},"args":[{"id":"<do>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":225,"column":10},"end":{"line":227,"column":19}},"args":[{"id":"<tag>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":226,"column":12},"end":{"line":227,"column":10}},"args":[]}]},{"id":"<tag>","kind":"tag","val":"null","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":227,"column":10},"end":{"line":227,"column":14}},"args":[]}]}]}]}]}');
                                codeTag0.replaceTag('unquote1', body);
                                _$10 = codeTag0;
                                break _$11;
                            }
                            _$8 = _$10;
                            break _$9;
                        }
                        return _$8;
                    }
                }));
            }
            _$8: {
                ast.defineSymbol(ast.createMacro('#metaimport', 'unary', 'LOW', {
                    'postCombine': function (ast) {
                        var moduleName, moduleString, _$9, _$10, _$11, _$12, _$13, _$14, codeTag0;
                        _$10: {
                            moduleName = ast.at(0);
                            moduleString = moduleName.getSimpleValue();
                            if (typeof moduleString !== 'string') {
                                _$12: {
                                    moduleName.error('Invalid module name');
                                    _$11 = null;
                                    break _$12;
                                }
                            } else {
                                _$14: {
                                    codeTag0 = ast.fromJsonString('{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":240,"column":10},"end":{"line":247,"column":0}},"args":[{"id":"try","kind":"builtin","val":"try","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":240,"column":10},"end":{"line":240,"column":10}},"args":[{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":12},"end":{"line":243,"column":10}},"args":[{"id":"=","kind":"builtin","val":"=","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":28},"end":{"line":241,"column":28}},"args":[{"id":"<tagDeclaration>","kind":"tag","val":"metaRequire","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":12},"end":{"line":241,"column":16}},"args":[]},{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":54},"end":{"line":241,"column":81}},"args":[{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":30},"end":{"line":241,"column":53}},"args":[{"id":"<tag>","kind":"tag","val":"require","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":31},"end":{"line":241,"column":31}},"args":[]},{"id":"<value>","kind":"value","val":"require-like","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":39},"end":{"line":241,"column":52}},"args":[]}]},{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":54},"end":{"line":241,"column":81}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":67},"end":{"line":241,"column":67}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":58},"end":{"line":241,"column":58}},"args":[{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":55},"end":{"line":241,"column":55}},"args":[]},{"id":"<name>","kind":"tag","val":"compiler","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":59},"end":{"line":241,"column":59}},"args":[]}]},{"id":"<name>","kind":"tag","val":"parser","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":68},"end":{"line":241,"column":68}},"args":[]}]},{"id":"<name>","kind":"tag","val":"source","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":241,"column":75},"end":{"line":241,"column":75}},"args":[]}]}]}]},{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":242,"column":63},"end":{"line":242,"column":67}},"args":[{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":242,"column":12},"end":{"line":242,"column":61}},"args":[{"id":"<tag>","kind":"tag","val":"metaRequire","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":242,"column":13},"end":{"line":242,"column":13}},"args":[]},{"id":"<tag>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":242,"column":25},"end":{"line":242,"column":25}},"args":[]}]},{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":242,"column":63},"end":{"line":242,"column":67}},"args":[]}]}]},{"id":"catch","kind":"builtin","val":"catch","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":243,"column":10},"end":{"line":243,"column":10}},"args":[{"id":"<tagDeclaration>","kind":"tag","val":"e","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":243,"column":16},"end":{"line":243,"column":22}},"args":[]},{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":12},"end":{"line":245,"column":10}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":15},"end":{"line":244,"column":15}},"args":[{"id":"<tag>","kind":"tag","val":"ast","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":12},"end":{"line":244,"column":12}},"args":[]},{"id":"<name>","kind":"tag","val":"error","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":16},"end":{"line":244,"column":16}},"args":[]}]},{"id":"+","kind":"builtin","val":"+","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":21},"end":{"line":244,"column":63}},"args":[{"id":"<value>","kind":"value","val":"Error importing module: ","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":22},"end":{"line":244,"column":47}},"args":[]},{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":61},"end":{"line":244,"column":62}},"args":[{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":52},"end":{"line":244,"column":52}},"args":[{"id":"<tag>","kind":"tag","val":"e","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":51},"end":{"line":244,"column":51}},"args":[]},{"id":"<name>","kind":"tag","val":"toString","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":53},"end":{"line":244,"column":53}},"args":[]}]},{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":244,"column":61},"end":{"line":244,"column":62}},"args":[]}]}]}]}]}]},{"id":"<tag>","kind":"tag","val":"null","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":245,"column":10},"end":{"line":245,"column":14}},"args":[]}]}');
                                    codeTag0.replaceTag('unquote1', moduleName.newValue(moduleString));
                                    _$13 = codeTag0;
                                    break _$14;
                                }
                                _$11 = moduleName.newMeta(_$13);
                            }
                            _$9 = _$11;
                            break _$10;
                        }
                        return _$9;
                    }
                }));
            }
            _$9: {
                ast.defineSymbol(ast.createMacro('while', 'binaryKeyword', 'LOW', {
                    'expand': function (ast) {
                        var body, condition, _$10, _$11, _$12, _$13, codeTag0;
                        _$11: {
                            body = ast.at(1);
                            condition = ast.at(0);
                            _$13: {
                                codeTag0 = ast.fromJsonString('{"id":"loop","kind":"builtin","val":"loop","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":251,"column":6},"end":{"line":251,"column":6}},"args":[{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":251,"column":11},"end":{"line":251,"column":12}},"args":[]},{"id":"if","kind":"builtin","val":"if","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":252,"column":6},"end":{"line":257,"column":0}},"args":[{"id":"<tag>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":252,"column":9},"end":{"line":252,"column":22}},"args":[]},{"id":"<do>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":252,"column":24},"end":{"line":257,"column":0}},"args":[{"id":"<do>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":253,"column":8},"end":{"line":255,"column":17}},"args":[{"id":"<tag>","kind":"tag","val":"unquote2","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":254,"column":10},"end":{"line":255,"column":8}},"args":[]}]},{"id":"next!","kind":"builtin","val":"next!","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":255,"column":8},"end":{"line":255,"column":8}},"args":[{"id":"<tuple>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":255,"column":14},"end":{"line":255,"column":15}},"args":[]}]}]}]}]}');
                                codeTag0.replaceTag('unquote1', condition);
                                codeTag0.replaceTag('unquote2', body);
                                _$12 = codeTag0;
                                break _$13;
                            }
                            _$10 = _$12;
                            break _$11;
                        }
                        return _$10;
                    }
                }));
            }
            _$10: {
                ast.defineSymbol(ast.createMacro('.->', 'binary', 'MEMBER', {
                    'expand': function (ast) {
                        var following, start, current, others, getLeftmost, other, otherLeftmost, otherParent, _$11, _$12, _$13, _$14, _$15, _$16, _$17, _$18, _$19, codeTag0, _$20, _$21, _$22, codeTag1;
                        _$12: {
                            following = ast.at(1);
                            start = ast.at(0);
                            _$13: {
                                current = start;
                                others = following.asTuple();
                                getLeftmost = function (root) {
                                    var _$14, _$15, _$16, _$17, _$18;
                                    _$15: {
                                        _$16:
                                            while (true) {
                                                if (root.isCall() || root.isMember()) {
                                                    _$17: {
                                                        _$18: {
                                                            root = root.at(0);
                                                        }
                                                        continue;
                                                    }
                                                }
                                                break _$16;
                                            }
                                        _$14 = root;
                                        break _$15;
                                    }
                                    return _$14;
                                };
                            }
                            _$14:
                                while (true) {
                                    if (others.count > 0) {
                                        _$15: {
                                            _$16: {
                                                _$17: {
                                                    other = others.shift();
                                                    otherLeftmost = getLeftmost(other);
                                                }
                                                if (otherLeftmost.parent === null) {
                                                    _$19: {
                                                        codeTag0 = ast.fromJsonString('{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":274,"column":23},"end":{"line":274,"column":23}},"args":[{"id":"<tag>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":274,"column":12},"end":{"line":274,"column":22}},"args":[]},{"id":"<tag>","kind":"tag","val":"unquote2","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":274,"column":24},"end":{"line":274,"column":41}},"args":[]}]}');
                                                        codeTag0.replaceTag('unquote1', current);
                                                        codeTag0.replaceTag('unquote2', otherLeftmost);
                                                        _$18 = codeTag0;
                                                        break _$19;
                                                    }
                                                } else {
                                                    _$20: {
                                                        otherParent = otherLeftmost.parent;
                                                        otherParent.shift();
                                                        _$22: {
                                                            codeTag1 = ast.fromJsonString('{"id":".","kind":"builtin","val":".","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":278,"column":44},"end":{"line":278,"column":44}},"args":[{"id":"<tag>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":278,"column":33},"end":{"line":278,"column":43}},"args":[]},{"id":"<tag>","kind":"tag","val":"unquote2","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":278,"column":45},"end":{"line":278,"column":62}},"args":[]}]}');
                                                            codeTag1.replaceTag('unquote1', current);
                                                            codeTag1.replaceTag('unquote2', otherLeftmost);
                                                            _$21 = codeTag1;
                                                            break _$22;
                                                        }
                                                        otherParent.unshift(_$21);
                                                        _$18 = other;
                                                        break _$20;
                                                    }
                                                }
                                                current = _$18;
                                            }
                                            continue;
                                        }
                                    }
                                    break _$14;
                                }
                            _$11 = current;
                            break _$12;
                        }
                        return _$11;
                    }
                }));
            }
            _$11: {
                ast.defineSymbol(ast.createMacro('<-', 'binary', 'MEDIUM', {
                    'expand': function (ast) {
                        var args, callee, _$12, _$13, _$14, _$15, codeTag0;
                        _$13: {
                            args = ast.at(1);
                            callee = ast.at(0);
                            _$15: {
                                codeTag0 = ast.fromJsonString('{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":286,"column":16},"end":{"line":286,"column":23}},"args":[{"id":"<tag>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":286,"column":6},"end":{"line":286,"column":15}},"args":[]},{"id":"<tag>","kind":"tag","val":"unquote2","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":286,"column":16},"end":{"line":286,"column":23}},"args":[]}]}');
                                codeTag0.replaceTag('unquote1', callee);
                                codeTag0.replaceTag('unquote2', args);
                                _$14 = codeTag0;
                                break _$15;
                            }
                            _$12 = _$14;
                            break _$13;
                        }
                        return _$12;
                    }
                }));
            }
            _$12: {
                ast.defineSymbol(ast.createMacro('#->', 'unary', 'LOW', {
                    'expand': function (ast) {
                        var body, args, processNext, n, currentId, currentArgName, _$13, _$14, _$15, _$16, _$17, _$18, _$19, codeTag0;
                        _$14: {
                            body = ast.at(0);
                            if (typeof body === 'undefined' || body.isPlaceholder() && body.getSimpleValue() === null) {
                                body = ast.newTag('undefined');
                            }
                            args = ast.newTuple();
                            processNext = true;
                            n = 1;
                            _$15:
                                while (true) {
                                    if (processNext) {
                                        _$16: {
                                            processNext = false;
                                            _$17: {
                                                currentId = '#' + n;
                                                currentArgName = '__$arg$' + n;
                                            }
                                            body.forEachRecursive(function (node) {
                                                var _$18, _$19, _$20, _$21;
                                                _$19: {
                                                    if (node.isPlaceholder() && (node.getSimpleValue() === currentId || n === 1 && node.getSimpleValue() === '#it')) {
                                                        _$20: {
                                                            if (!processNext) {
                                                                _$21: {
                                                                    processNext = true;
                                                                    args.push(ast.newTag(currentArgName).handleAsFunctionArgument());
                                                                }
                                                            }
                                                            node.replaceWith(node.newTag(currentArgName));
                                                        }
                                                    }
                                                    _$18 = undefined;
                                                    break _$19;
                                                }
                                                return _$18;
                                            });
                                            n = n + 1;
                                            continue;
                                        }
                                    }
                                    break _$15;
                                }
                            _$19: {
                                codeTag0 = ast.fromJsonString('{"id":"->","kind":"builtin","val":"->","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":329,"column":15},"end":{"line":329,"column":15}},"args":[{"id":"<argument>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":329,"column":5},"end":{"line":329,"column":13}},"args":[]},{"id":"<tag>","kind":"tag","val":"unquote2","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":329,"column":18},"end":{"line":329,"column":26}},"args":[]}]}');
                                codeTag0.replaceTag('unquote1', args);
                                codeTag0.replaceTag('unquote2', body);
                                _$18 = codeTag0;
                                break _$19;
                            }
                            _$13 = _$18;
                            break _$14;
                        }
                        return _$13;
                    }
                }));
            }
            _$13: {
                ast.defineSymbol(ast.createMacro('=>', 'binary', 'FUNCTION', {
                    'leftPrecedence': 'FUNCTION-LEFT',
                    'expand': function (ast) {
                        var rhs, lhs, traverser, result, _$14, _$15, _$16, _$17, codeTag0;
                        _$15: {
                            rhs = ast.at(1);
                            lhs = ast.at(0);
                            traverser = function (__$arg$1) {
                                var _$16, _$17, _$18, _$19, codeTag0;
                                _$17: {
                                    if (__$arg$1.isTag() && __$arg$1.getTag() === 'this') {
                                        _$19: {
                                            codeTag0 = ast.fromJsonString('{"id":"<vTag>","kind":"tag","val":"captured-this","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":340,"column":26},"end":{"line":340,"column":27}},"args":[]}');
                                            _$18 = codeTag0;
                                            break _$19;
                                        }
                                        __$arg$1.replaceWith(_$18);
                                    }
                                    if (!__$arg$1.isFunctionDefinition()) {
                                        __$arg$1.forEach(function (__$arg$1) {
                                            return traverser(__$arg$1);
                                        });
                                    }
                                    _$16 = undefined;
                                    break _$17;
                                }
                                return _$16;
                            };
                            traverser(rhs);
                            _$17: {
                                codeTag0 = ast.fromJsonString('{"id":"<do>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":344,"column":19},"end":{"line":347,"column":4}},"args":[{"id":"=","kind":"builtin","val":"=","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":345,"column":25},"end":{"line":345,"column":25}},"args":[{"id":"<vTagDeclaration>","kind":"tag","val":"captured-this","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":345,"column":6},"end":{"line":345,"column":11}},"args":[]},{"id":"<tag>","kind":"tag","val":"this","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":345,"column":27},"end":{"line":345,"column":27}},"args":[]}]},{"id":"->","kind":"builtin","val":"->","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":346,"column":15},"end":{"line":346,"column":15}},"args":[{"id":"<argument>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":346,"column":6},"end":{"line":346,"column":13}},"args":[]},{"id":"<tag>","kind":"tag","val":"unquote2","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":346,"column":18},"end":{"line":346,"column":25}},"args":[]}]}]}');
                                codeTag0.replaceTag('unquote1', lhs);
                                codeTag0.replaceTag('unquote2', rhs);
                                _$16 = codeTag0;
                                break _$17;
                            }
                            result = _$16;
                            result.resolveVirtual();
                            _$14 = result;
                            break _$15;
                        }
                        return _$14;
                    }
                }));
            }
            _$14: {
                ast.defineSymbol(ast.createMacro('#js', 'unary', 'HIGH', {
                    'expand': function (ast) {
                        var expr, code, _$15, _$16, _$17, _$18, codeTag0;
                        _$16: {
                            expr = ast.at(0);
                            _$18: {
                                codeTag0 = ast.fromJsonString('{"id":"<call>","kind":"builtin","val":null,"loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":360,"column":33},"end":{"line":360,"column":44}},"args":[{"id":"<xTag>","kind":"tag","val":"eval","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":360,"column":17},"end":{"line":360,"column":32}},"args":[]},{"id":"<tag>","kind":"tag","val":"unquote1","loc":{"source":"/data/massi/metascript/lib/core-macros.mjs","start":{"line":360,"column":33},"end":{"line":360,"column":44}},"args":[]}]}');
                                codeTag0.replaceTag('unquote1', expr);
                                _$17 = codeTag0;
                                break _$18;
                            }
                            code = _$17;
                            if (expr.isValue()) {
                                code.set('js', expr.getValue());
                            }
                            _$15 = code;
                            break _$16;
                        }
                        return _$15;
                    }
                }));
            }
            _$15: {
                ast.defineSymbol(ast.createMacro('#no-new-scope', 'unary', 'LOW', {
                    'expand': function (ast) {
                        var expr, _$16, _$17;
                        _$17: {
                            expr = ast.at(0);
                            expr.set('no-new-scope', true);
                            _$16 = expr;
                            break _$17;
                        }
                        return _$16;
                    }
                }));
            }
            _$1 = null;
            break _$2;
        }
        return _$1;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9kYXRhL21hc3NpL21ldGFzY3JpcHQvbGliL2NvcmUtbWFjcm9zLm1qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXN0IiwiY29tcG9zZU1hY3JvQXJndW1lbnRzIiwibmFtZUFyZyIsImFyZ3NUdXBsZSIsIm5hbWVWYWx1ZSIsImdldFNpbXBsZVZhbHVlIiwibnVsbCIsImVycm9yIiwiaXNUdXBsZSIsIm9rIiwidHJ1ZSIsIm5hbWUiLCJuZXdWYWx1ZSIsImFyaXR5IiwicHJlY2VkZW5jZSIsIm9wdGlvbnMiLCJuZXdPYmplY3RMaXRlcmFsIiwiaW5kZXgiLCJjb3VudCIsImFyZyIsImF0Iiwic2ltcGxlVmFsdWUiLCJmYWxzZSIsImlzUHJvcGVydHkiLCJza2lwIiwicHJvcGVydHkiLCJjb3B5IiwidmFsdWUiLCJwcm9wZXJ0eU5hbWUiLCJzaW1wbGVQcm9wZXJ0eVZhbHVlIiwiaXNGdW5jdGlvbkRlZmluaXRpb24iLCJmdW5jIiwibWFjcm9Cb2R5IiwicG9wIiwiYXNUdXBsZSIsIm1hY3JvQXJncyIsInB1c2giLCJuZXdUYWciLCJhcmdJbmRleCIsIm1hY3JvQXJnIiwiaXNUYWciLCJhcmdEZWNsYXJhdGlvbiIsImZyb21Kc29uU3RyaW5nIiwicmVwbGFjZVRhZyIsImdldFRhZyIsImhhbmRsZUFzVGFnRGVjbGFyYXRpb24iLCJ1bnNoaWZ0IiwiXyQyMiIsIl8kNCIsImRlZmluZVN5bWJvbCIsImNyZWF0ZU1hY3JvIiwiY29kZSIsImlubmVyRG8iLCJuZXdEbyIsIm5ld01ldGEiLCJ0YWlsIiwiYXJncyIsInJlc3VsdCIsIl8kNyIsImRlZmluaXRpb24iLCJzeW0iLCJrZXlTY29wZSIsImdldCIsInVuZGVmaW5lZCIsInRhZ1JlcGxhY2VtZW50cyIsInVucXVvdGVJbmRleCIsImZvckVhY2hSZWN1cnNpdmUiLCJjaGlsZCIsImlkIiwicmVwbGFjZW1lbnQiLCJyZXBsYWNlbWVudE5hbWUiLCJyZXBsYWNlbWVudE5hbWVWYWwiLCJyZXBsYWNlbWVudE5hbWVUYWciLCJ0YWdSZXBsYWNlbWVudCIsInJlcGxhY2VXaXRoIiwiXyQ4IiwicmVzb2x2ZVZpcnR1YWwiLCJfJDYiLCJib2R5Iiwic3RhdGVtZW50cyIsImNvZGVUYWcwIiwibWFwIiwiXyQ5IiwiXyQxMCIsIm1vZHVsZU5hbWUiLCJtb2R1bGVTdHJpbmciLCJfJDExIiwiXyQxMyIsImNvbmRpdGlvbiIsIl8kMTIiLCJmb2xsb3dpbmciLCJzdGFydCIsImN1cnJlbnQiLCJvdGhlcnMiLCJnZXRMZWZ0bW9zdCIsInJvb3QiLCJpc0NhbGwiLCJpc01lbWJlciIsIl8kMTQiLCJvdGhlciIsInNoaWZ0Iiwib3RoZXJMZWZ0bW9zdCIsInBhcmVudCIsIl8kMTgiLCJvdGhlclBhcmVudCIsImNvZGVUYWcxIiwiXyQyMSIsImNhbGxlZSIsImlzUGxhY2Vob2xkZXIiLCJuZXdUdXBsZSIsInByb2Nlc3NOZXh0IiwibiIsImN1cnJlbnRJZCIsImN1cnJlbnRBcmdOYW1lIiwibm9kZSIsImhhbmRsZUFzRnVuY3Rpb25Bcmd1bWVudCIsInJocyIsImxocyIsInRyYXZlcnNlciIsIl9fJGFyZyQxIiwiZm9yRWFjaCIsIl8kMTYiLCJleHByIiwiXyQxNyIsImlzVmFsdWUiLCJzZXQiLCJnZXRWYWx1ZSIsIl8kMTUiLCJfJDEiXSwibWFwcGluZ3MiOiJBQUFBLEksR0FBQSxDO0FBQUE7QUFBQSxJQUVBQSxNQUFNLENBQUNDLE9BQVEsR0FBUSxVQUFOQyxHQUFNO0FBQUEsWSxxQkFBQSxFLEdBQUEsRSxHQUFBLEUsR0FBQSxFLEdBQUEsRSxHQUFBLEUsR0FBQSxFLEdBQUEsRSxHQUFBLEUsR0FBQSxFLElBQUEsRSxJQUFBLEUsSUFBQSxFLElBQUEsRSxJQUFBLEUsSUFBQTtBQUFBLFFBQUc7QUFBQSxZQUd4QjtBQUFBLGdCQUFBQyxxQkFBMEIsR0FBdUIsVUFBckJDLE9BQXFCLEVBQWJDLFNBQWE7QUFBQSx3QixTQUFBLEUsRUFBQSxFLElBQUEsRSxLQUFBLEUsVUFBQSxFLE9BQUEsRSxLQUFBLEUsR0FB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QUEsQ0FBQW9CLEVBQUEsQ0EyV1UsQ0EzV1YsRUE0V0k7QUFBQSw0QkFBQXNHLElBQUksQ0FBQ0csR0FBRyxpQkFBZW5ILElBQWYsRUFBUjtBQUFBLDRCQUNBK0csSUFBQSxHQUFBQyxJQUFBLENBREE7QUFBQTtBQUFBLHlCQURhO0FBQUEsK0JBQ2JELElBRGE7QUFBQSxxQkEzV2pCO0FBQUEsaUJBd1dBO0FBQUEsYUExVzBCO0FBQUEsWUFrWDFCTyxHQUFBLEdBQUExSCxJQUFBLENBbFgwQjtBQUFBO0FBQUEsU0FBSDtBQUFBLGVBQUcwSCxHQUFIO0FBQUEsS0FBUixDQUZmO0FBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIjZXh0ZXJuYWwgbW9kdWxlXG5cbm1vZHVsZS5leHBvcnRzID0gKGFzdCkgLT4gZG8gKFxuXG4jbWV0YVxuICB2YXIgY29tcG9zZU1hY3JvQXJndW1lbnRzID0gKG5hbWVBcmcsIGFyZ3NUdXBsZSkgLT5cbiAgICB2YXIgbmFtZVZhbHVlID0gbmFtZUFyZy5nZXRTaW1wbGVWYWx1ZSgpXG4gICAgaWYgKG5hbWVWYWx1ZSA9PSBudWxsKVxuICAgICAgYXJnc1R1cGxlLmVycm9yICdJbnZhbGlkIG5hbWUgYXJndW1lbnQnXG4gICAgICByZXR1cm4gbnVsbFxuICAgIGlmICghKGFyZ3NUdXBsZS5pc1R1cGxlKCkpKVxuICAgICAgYXJnc1R1cGxlLmVycm9yICdFeHBlY3RlZCB0dXBsZSBhcmd1bWVudCdcbiAgICAgIHJldHVybiBudWxsXG4gICAgdmFyXG4gICAgICBvayA9IHRydWVcbiAgICAgIG5hbWUgPSBuYW1lQXJnLm5ld1ZhbHVlIG5hbWVWYWx1ZVxuICAgICAgYXJpdHkgPSBhc3QubmV3VmFsdWUgJ3VuYXJ5J1xuICAgICAgcHJlY2VkZW5jZSA9IGFzdC5uZXdWYWx1ZSAnTE9XJ1xuICAgICAgb3B0aW9ucyA9IGFzdC5uZXdPYmplY3RMaXRlcmFsKClcbiAgICBsb29wICh2YXIgaW5kZXggPSAwKVxuICAgICAgaWYgKGluZGV4IDwgYXJnc1R1cGxlLmNvdW50KVxuICAgICAgICB2YXIgYXJnID0gYXJnc1R1cGxlLmF0IGluZGV4XG4gICAgICAgIHZhciBzaW1wbGVWYWx1ZSA9IGFyZy5nZXRTaW1wbGVWYWx1ZSgpXG4gICAgICAgIGlmIChzaW1wbGVWYWx1ZSAhPSBudWxsKVxuICAgICAgICAgIGlmIChpbmRleCA9PSAwKVxuICAgICAgICAgICAgYXJpdHkgPSBhcmcubmV3VmFsdWUgc2ltcGxlVmFsdWVcbiAgICAgICAgICBlbHNlIGlmIChpbmRleCA9PSAxKVxuICAgICAgICAgICAgcHJlY2VkZW5jZSA9IGFyZy5uZXdWYWx1ZSBzaW1wbGVWYWx1ZVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGFyZy5lcnJvcignSW52YWxpZCBzaW1wbGUgcHJvcGVydHknKVxuICAgICAgICAgICAgb2sgPSBmYWxzZVxuICAgICAgICBlbHNlIGlmIChhcmcuaXNQcm9wZXJ0eSgpKVxuICAgICAgICAgIHZhciBza2lwID0gZmFsc2VcbiAgICAgICAgICB2YXIgcHJvcGVydHkgPSBhcmcuY29weSgpXG4gICAgICAgICAgdmFyIHZhbHVlID0gcHJvcGVydHkuYXQgMVxuICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSAocHJvcGVydHkuYXQgMCkuZ2V0U2ltcGxlVmFsdWUoKVxuICAgICAgICAgIHZhciBzaW1wbGVQcm9wZXJ0eVZhbHVlID0gdmFsdWUuZ2V0U2ltcGxlVmFsdWUoKVxuICAgICAgICAgIGlmIChwcm9wZXJ0eU5hbWUgPT0gJ2FyaXR5JyAmJiBzaW1wbGVQcm9wZXJ0eVZhbHVlICE9IG51bGwpXG4gICAgICAgICAgICBhcml0eSA9IGFyZy5uZXdWYWx1ZSBzaW1wbGVQcm9wZXJ0eVZhbHVlXG4gICAgICAgICAgICBza2lwID0gdHJ1ZVxuICAgICAgICAgIGVsc2UgaWYgKHByb3BlcnR5TmFtZSA9PSAncHJlY2VkZW5jZScgJiYgc2ltcGxlUHJvcGVydHlWYWx1ZSAhPSBudWxsKVxuICAgICAgICAgICAgcHJlY2VkZW5jZSA9IGFyZy5uZXdWYWx1ZSBzaW1wbGVQcm9wZXJ0eVZhbHVlXG4gICAgICAgICAgICBza2lwID0gdHJ1ZVxuICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLmlzRnVuY3Rpb25EZWZpbml0aW9uKCkpXG4gICAgICAgICAgICB2YXIgZnVuYyA9IHZhbHVlLmNvcHkoKVxuICAgICAgICAgICAgdmFyIG1hY3JvQm9keSA9IGZ1bmMucG9wKCkuYXNUdXBsZSgpXG4gICAgICAgICAgICB2YXIgbWFjcm9BcmdzID0gZnVuYy5wb3AoKS5hc1R1cGxlKClcbiAgICAgICAgICAgIGZ1bmMgLnB1c2goYXJnLm5ld1RhZyAnYXN0JylcbiAgICAgICAgICAgIGZ1bmMucHVzaCBtYWNyb0JvZHlcbiAgICAgICAgICAgIGxvb3AgKHZhciBhcmdJbmRleCA9IDApXG4gICAgICAgICAgICAgIGlmIChhcmdJbmRleCA8IG1hY3JvQXJncy5jb3VudClcbiAgICAgICAgICAgICAgICB2YXIgbWFjcm9BcmcgPSBtYWNyb0FyZ3MuYXQgYXJnSW5kZXhcbiAgICAgICAgICAgICAgICBpZiAobWFjcm9BcmcuaXNUYWcoKSlcbiAgICAgICAgICAgICAgICAgIHZhciBhcmdEZWNsYXJhdGlvbiA9ICNxdW90ZSB2YXIgX19hcmdOYW1lID0gYXN0LmF0IF9fYXJnSW5kZXhcbiAgICAgICAgICAgICAgICAgIGFyZ0RlY2xhcmF0aW9uLnJlcGxhY2VUYWcoJ19fYXJnTmFtZScsIChtYWNyb0FyZy5uZXdUYWcobWFjcm9BcmcuZ2V0VGFnKCkpKS5oYW5kbGVBc1RhZ0RlY2xhcmF0aW9uKCkpXG4gICAgICAgICAgICAgICAgICBhcmdEZWNsYXJhdGlvbi5yZXBsYWNlVGFnKCdfX2FyZ0luZGV4JywgbWFjcm9BcmcubmV3VmFsdWUoYXJnSW5kZXgpKVxuICAgICAgICAgICAgICAgICAgbWFjcm9Cb2R5LnVuc2hpZnQgYXJnRGVjbGFyYXRpb25cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICBtYWNyb0FyZy5lcnJvciAnQXJndW1lbnQgbmFtZSBleHBlY3RlZCdcbiAgICAgICAgICAgICAgICAgIG9rID0gZmFsc2VcbiAgICAgICAgICAgICAgICBuZXh0ISBhcmdJbmRleCArIDFcbiAgICAgICAgICAgIGlmIG9rXG4gICAgICAgICAgICAgIHByb3BlcnR5LnBvcCgpXG4gICAgICAgICAgICAgIHByb3BlcnR5LnB1c2ggZnVuY1xuICAgICAgICAgIGlmICghc2tpcClcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaCBwcm9wZXJ0eVxuICAgICAgICBlbHNlXG4gICAgICAgICAgYXJnLmVycm9yKCdJbnZhbGlkIHByb3BlcnR5JylcbiAgICAgICAgICBvayA9IGZhbHNlXG4gICAgICAgIG5leHQhIGluZGV4ICsgMVxuICAgIGlmIG9rIFtuYW1lLCBhcml0eSwgcHJlY2VkZW5jZSwgb3B0aW9uc10gZWxzZSBudWxsXG5cbiAgYXN0LmRlZmluZVN5bWJvbFxuICAgIGFzdC5jcmVhdGVNYWNyb1xuICAgICAgJyNleGVjLW1ldGEnXG4gICAgICAndW5hcnknXG4gICAgICAnTE9XJ1xuICAgICAge1xuICAgICAgICBwb3N0Q29tYmluZTogKGFzdCkgLT5cbiAgICAgICAgICB2YXIgY29kZSA9IChhc3QuYXQgMCkuY29weSgpXG4gICAgICAgICAgdmFyIGlubmVyRG8gPSBhc3QubmV3RG8oW2NvZGUuY29weSgpLCBhc3QubmV3VGFnICdudWxsJ10pXG4gICAgICAgICAgYXN0Lm5ld01ldGEgaW5uZXJEb1xuICAgICAgfVxuICBhc3QuZGVmaW5lU3ltYm9sXG4gICAgYXN0LmNyZWF0ZU1hY3JvXG4gICAgICAnI2tlZXAtbWV0YSdcbiAgICAgICd1bmFyeSdcbiAgICAgICdMT1cnXG4gICAgICB7XG4gICAgICAgIHBvc3RDb21iaW5lOiAoYXN0KSAtPlxuICAgICAgICAgIHZhciBjb2RlID0gKGFzdC5hdCAwKS5jb3B5KClcbiAgICAgICAgICB2YXIgdGFpbCA9ICNxdW90ZSAoYXN0LmF0KDApLmF0KDApLmNvcHkoKSlcbiAgICAgICAgICB2YXIgaW5uZXJEbyA9IGFzdC5uZXdEbyhbY29kZS5jb3B5KCksIHRhaWxdKVxuICAgICAgICAgIGFzdC5uZXdNZXRhIGlubmVyRG9cbiAgICAgIH1cblxuICBhc3QuZGVmaW5lU3ltYm9sXG4gICAgYXN0LmNyZWF0ZU1hY3JvXG4gICAgICAnI21hY3JvJ1xuICAgICAgJ2JpbmFyeUtleXdvcmQnXG4gICAgICAnTE9XJ1xuICAgICAge1xuICAgICAgICBleHBhbmQ6IChhc3QpIC0+XG4gICAgICAgICAgaWYgKCFhc3QuY291bnQgPT0gMikgZG9cbiAgICAgICAgICAgIGFzdC5lcnJvcignRXhwZWN0ZWQgYXJndW1lbnRzOiBuYW1lIGFuZCBwcm9wZXJ0aWVzJylcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgdmFyIGFyZ3NUdXBsZSA9IChhc3QuYXQgMSkuYXNUdXBsZSgpXG4gICAgICAgICAgdmFyIGFyZ3MgPSBjb21wb3NlTWFjcm9Bcmd1bWVudHMoYXN0LmF0IDAsIGFyZ3NUdXBsZSlcbiAgICAgICAgICBpZiAoYXJncyAhPSBudWxsKSBkb1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICNxdW90ZSAoYXN0LmNyZWF0ZU1hY3JvKF9fYXJnMCwgX19hcmcxLCBfX2FyZzIsIF9fYXJnMykpXG4gICAgICAgICAgICByZXN1bHQucmVwbGFjZVRhZygnX19hcmcwJywgYXJnc1swXSlcbiAgICAgICAgICAgIHJlc3VsdC5yZXBsYWNlVGFnKCdfX2FyZzEnLCBhcmdzWzFdKVxuICAgICAgICAgICAgcmVzdWx0LnJlcGxhY2VUYWcoJ19fYXJnMicsIGFyZ3NbMl0pXG4gICAgICAgICAgICByZXN1bHQucmVwbGFjZVRhZygnX19hcmczJywgYXJnc1szXSlcbiAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIG51bGxcbiAgICAgIH1cbiAgYXN0LmRlZmluZVN5bWJvbFxuICAgIGFzdC5jcmVhdGVNYWNyb1xuICAgICAgJyNkZWZtYWNybydcbiAgICAgICdiaW5hcnlLZXl3b3JkJ1xuICAgICAgJ0xPVydcbiAgICAgIHtcbiAgICAgICAgcG9zdENvbWJpbmU6IChhc3QpIC0+XG4gICAgICAgICAgaWYgKCFhc3QuY291bnQgPT0gMikgZG9cbiAgICAgICAgICAgIGFzdC5lcnJvcignRXhwZWN0ZWQgYXJndW1lbnRzOiBuYW1lIGFuZCBwcm9wZXJ0aWVzJylcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgdmFyIGFyZ3NUdXBsZSA9IChhc3QuYXQgMSkuYXNUdXBsZSgpXG4gICAgICAgICAgdmFyIGFyZ3MgPSBjb21wb3NlTWFjcm9Bcmd1bWVudHMoYXN0LmF0IDAsIGFyZ3NUdXBsZSlcbiAgICAgICAgICBpZiAoYXJncyAhPSBudWxsKSBkb1xuICAgICAgICAgICAgdmFyIGRlZmluaXRpb24gPSAjcXVvdGUgKGFzdC5kZWZpbmVTeW1ib2woYXN0LmNyZWF0ZU1hY3JvKF9fYXJnMCwgX19hcmcxLCBfX2FyZzIsIF9fYXJnMykpLCBudWxsKVxuICAgICAgICAgICAgZGVmaW5pdGlvbi5yZXBsYWNlVGFnKCdfX2FyZzAnLCBhcmdzWzBdKVxuICAgICAgICAgICAgZGVmaW5pdGlvbi5yZXBsYWNlVGFnKCdfX2FyZzEnLCBhcmdzWzFdKVxuICAgICAgICAgICAgZGVmaW5pdGlvbi5yZXBsYWNlVGFnKCdfX2FyZzInLCBhcmdzWzJdKVxuICAgICAgICAgICAgZGVmaW5pdGlvbi5yZXBsYWNlVGFnKCdfX2FyZzMnLCBhcmdzWzNdKVxuICAgICAgICAgICAgYXN0Lm5ld01ldGEoYXN0Lm5ld0RvKGRlZmluaXRpb24pKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIG51bGxcbiAgICAgIH1cbiAgYXN0LmRlZmluZVN5bWJvbFxuICAgIGFzdC5jcmVhdGVNYWNyb1xuICAgICAgJyNrZWVwbWFjcm8nXG4gICAgICAnYmluYXJ5S2V5d29yZCdcbiAgICAgICdMT1cnXG4gICAgICB7XG4gICAgICAgIHBvc3RDb21iaW5lOiAoYXN0KSAtPlxuICAgICAgICAgIGlmICghYXN0LmNvdW50ID09IDIpIGRvXG4gICAgICAgICAgICBhc3QuZXJyb3IoJ0V4cGVjdGVkIGFyZ3VtZW50czogbmFtZSBhbmQgcHJvcGVydGllcycpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIHZhciBhcmdzVHVwbGUgPSAoYXN0LmF0IDEpLmFzVHVwbGUoKVxuICAgICAgICAgIHZhciBhcmdzID0gY29tcG9zZU1hY3JvQXJndW1lbnRzKGFzdC5hdCAwLCBhcmdzVHVwbGUpXG4gICAgICAgICAgaWYgKGFyZ3MgIT0gbnVsbCkgZG9cbiAgICAgICAgICAgIHZhciBkZWZpbml0aW9uID0gI3F1b3RlIChhc3QuZGVmaW5lU3ltYm9sKGFzdC5jcmVhdGVNYWNybyhfX2FyZzAsIF9fYXJnMSwgX19hcmcyLCBfX2FyZzMpKSwgbnVsbClcbiAgICAgICAgICAgIGRlZmluaXRpb24ucmVwbGFjZVRhZygnX19hcmcwJywgYXJnc1swXSlcbiAgICAgICAgICAgIGRlZmluaXRpb24ucmVwbGFjZVRhZygnX19hcmcxJywgYXJnc1sxXSlcbiAgICAgICAgICAgIGRlZmluaXRpb24ucmVwbGFjZVRhZygnX19hcmcyJywgYXJnc1syXSlcbiAgICAgICAgICAgIGRlZmluaXRpb24ucmVwbGFjZVRhZygnX19hcmczJywgYXJnc1szXSlcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBhc3QubmV3TWV0YShhc3QubmV3RG8oZGVmaW5pdGlvbikpXG4gICAgICAgICAgICByZXN1bHQuc3ltID0gYXN0LmtleVNjb3BlLmdldCAnI2tlZXAtbWV0YSdcbiAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIG51bGxcbiAgICAgIH1cblxuICA7IFRyaWNrIHRvIGNvbXBpbGUgdGhlIGNvZGUgdHdpY2U6IGluIHRoaXMgY29tcGlsYXRpb24gY29udGV4dCBhbmQgZm9yIHRoZSBnZW5lcmF0ZWQgSlMuXG4gIDsgSXQgcmVtb3ZlcyB0aGlzIGxhc3Qgc3RhdGVtZW50IGZyb20gdGhlIGNvZGUgKHNvIHRoYXQgaXQgZG9lcyBub3QgYXBwZWFyIGluIHRoZSBnZW5lcmF0ZWRcbiAgOyBmaWxlKSBidXQgbWFrZXMgc28gdGhhdCB0aGUgdG9wIGxldmVsICNtZXRhIGtlZXBzIHRoZSBjb2RlIChieSByZXR1cm5pbmcgYXN0LmF0IDApLlxuICBkbyAoKGFzdC5hdCAwKS5wb3AoKSwgYXN0LmF0IDApXG5cbiNrZWVwbWFjcm8gJ35gJ1xuICB1bmFyeVxuICBleHBhbmQ6ICgpIC0+ICgpXG5cbiNrZWVwbWFjcm8gJ2AnXG4gIHVuYXJ5XG4gIExPV1xuICBkb05vdEV4cGFuZENoaWxkcmVuOiB0cnVlXG4gIGV4cGFuZDogKGNvZGUpIC0+XG4gICAgdmFyIHJlc3VsdCA9ICNxdW90ZSBkb1xuICAgICAgdmFyIFxcY29kZVRhZyA9ICNxdW90ZSBjb2RlXG4gICAgICB0YWdSZXBsYWNlbWVudHNcbiAgICAgIFxcY29kZVRhZ1xuICAgIHZhciB0YWdSZXBsYWNlbWVudHMgPSBbXVxuICAgIHZhciB1bnF1b3RlSW5kZXggPSAxXG4gICAgY29kZS5mb3JFYWNoUmVjdXJzaXZlXG4gICAgICAoY2hpbGQpIC0+IGRvXG4gICAgICAgIGlmIChjaGlsZC5pZCA9PSAnfmAnKVxuICAgICAgICAgIHZhclxuICAgICAgICAgICAgcmVwbGFjZW1lbnQgPSBjaGlsZC5hdCAwXG4gICAgICAgICAgICByZXBsYWNlbWVudE5hbWUgPSAndW5xdW90ZScgKyB1bnF1b3RlSW5kZXg7XG4gICAgICAgICAgICByZXBsYWNlbWVudE5hbWVWYWwgPSBjaGlsZC5uZXdWYWx1ZSByZXBsYWNlbWVudE5hbWVcbiAgICAgICAgICAgIHJlcGxhY2VtZW50TmFtZVRhZyA9IGNoaWxkLm5ld1RhZyByZXBsYWNlbWVudE5hbWVcbiAgICAgICAgICAgIHRhZ1JlcGxhY2VtZW50ID0gI3F1b3RlICgoXFxjb2RlVGFnKS5yZXBsYWNlVGFnKHF1b3RlZFRhZ05hbWUsIHJlcGxhY2VtZW50KSlcbiAgICAgICAgICBjaGlsZC5yZXBsYWNlV2l0aCByZXBsYWNlbWVudE5hbWVUYWdcbiAgICAgICAgICB0YWdSZXBsYWNlbWVudC5yZXBsYWNlVGFnKCdxdW90ZWRUYWdOYW1lJywgcmVwbGFjZW1lbnROYW1lVmFsKVxuICAgICAgICAgIHRhZ1JlcGxhY2VtZW50LnJlcGxhY2VUYWcoJ3JlcGxhY2VtZW50JywgcmVwbGFjZW1lbnQpXG4gICAgICAgICAgdGFnUmVwbGFjZW1lbnRzLnB1c2ggdGFnUmVwbGFjZW1lbnRcbiAgICAgICAgICB1bnF1b3RlSW5kZXggKz0gMVxuICAgICAgICAoKVxuICAgIHJlc3VsdC5yZXBsYWNlVGFnKCdjb2RlJywgY29kZSlcbiAgICByZXN1bHQucmVwbGFjZVRhZygndGFnUmVwbGFjZW1lbnRzJywgdGFnUmVwbGFjZW1lbnRzKVxuICAgIHJlc3VsdC5yZXNvbHZlVmlydHVhbCgpXG4gICAgcmVzdWx0XG5cbiNrZWVwbWFjcm8gJ2RvISdcbiAgdW5hcnlcbiAgTE9XXG4gIGV4cGFuZDogKGJvZHkpIC0+XG4gICAgdmFyIHN0YXRlbWVudHMgPSBib2R5LmNvcHkoKS5hc1R1cGxlKClcbiAgICB2YXIgcmVzdWx0ID0gYFxuICAgICAgZG9cbiAgICAgICAgfmAgc3RhdGVtZW50cy5tYXAoYXJnIC0+IGFyZylcbiAgICAgICAgdW5kZWZpbmVkXG4gICAgcmVzdWx0XG5cbiNrZWVwbWFjcm8gJyNtZXRhbW9kdWxlJ1xuICB1bmFyeVxuICBMT1dcbiAgZXhwYW5kOiAoYm9keSkgLT5cbiAgICBgXG4gICAgICAjZXh0ZXJuYWwgbW9kdWxlXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IChhc3QpIC0+XG4gICAgICAgIGRvXG4gICAgICAgICAgZG9cbiAgICAgICAgICAgIH5gIGJvZHlcbiAgICAgICAgICBudWxsXG5cbiNrZWVwbWFjcm8gI21ldGFpbXBvcnRcbiAgYXJpdHk6IHVuYXJ5XG4gIHByZWNlZGVuY2U6IExPV1xuICBwb3N0Q29tYmluZTogKG1vZHVsZU5hbWUpIC0+XG4gICAgdmFyIG1vZHVsZVN0cmluZyA9IG1vZHVsZU5hbWUuZ2V0U2ltcGxlVmFsdWUoKVxuICAgIGlmICh0eXBlb2YgbW9kdWxlU3RyaW5nICE9ICdzdHJpbmcnKSBkb1xuICAgICAgbW9kdWxlTmFtZS5lcnJvciAnSW52YWxpZCBtb2R1bGUgbmFtZSdcbiAgICAgIG51bGxcbiAgICBlbHNlXG4gICAgICBtb2R1bGVOYW1lLm5ld01ldGFcbiAgICAgICAgYFxuICAgICAgICAgIHRyeVxuICAgICAgICAgICAgdmFyIG1ldGFSZXF1aXJlID0gKHJlcXVpcmUgJ3JlcXVpcmUtbGlrZScpKGFzdC5jb21waWxlci5wYXJzZXIuc291cmNlKVxuICAgICAgICAgICAgKG1ldGFSZXF1aXJlIH5gKG1vZHVsZU5hbWUubmV3VmFsdWUgbW9kdWxlU3RyaW5nKSkgKGFzdClcbiAgICAgICAgICBjYXRjaCAodmFyIGUpXG4gICAgICAgICAgICBhc3QuZXJyb3IoJ0Vycm9yIGltcG9ydGluZyBtb2R1bGU6ICcgKyBlLnRvU3RyaW5nKCkpXG4gICAgICAgICAgbnVsbFxuXG4ja2VlcG1hY3JvIHdoaWxlXG4gIGFyaXR5OiBiaW5hcnlLZXl3b3JkXG4gIHByZWNlZGVuY2U6IExPV1xuICBleHBhbmQ6IChjb25kaXRpb24sIGJvZHkpIC0+XG4gICAgYCBsb29wICgpXG4gICAgICBpZiAofmAgY29uZGl0aW9uKSBkb1xuICAgICAgICBkb1xuICAgICAgICAgIH5gIGJvZHlcbiAgICAgICAgbmV4dCEgKClcblxuI2tlZXBtYWNybyAuLT5cbiAgYXJpdHk6IGJpbmFyeVxuICBwcmVjZWRlbmNlOiBNRU1CRVJcbiAgZXhwYW5kOiAoc3RhcnQsIGZvbGxvd2luZykgLT5cbiAgICB2YXJcbiAgICAgIGN1cnJlbnQgPSBzdGFydFxuICAgICAgb3RoZXJzID0gZm9sbG93aW5nLmFzVHVwbGUoKVxuICAgICAgZ2V0LWxlZnRtb3N0ID0gKHJvb3QpIC0+XG4gICAgICAgIHdoaWxlIChyb290LmlzQ2FsbCgpIHx8IHJvb3QuaXNNZW1iZXIoKSlcbiAgICAgICAgICByb290ID0gcm9vdC5hdCAwXG4gICAgICAgIHJvb3RcbiAgICB3aGlsZSAob3RoZXJzLmNvdW50ID4gMClcbiAgICAgIHZhclxuICAgICAgICBvdGhlciA9IG90aGVycy5zaGlmdCgpXG4gICAgICAgIG90aGVyLWxlZnRtb3N0ID0gZ2V0LWxlZnRtb3N0IG90aGVyXG4gICAgICBjdXJyZW50ID1cbiAgICAgICAgaWYgKG90aGVyLWxlZnRtb3N0LnBhcmVudCA9PSBudWxsKVxuICAgICAgICAgIGAgKH5gY3VycmVudCkuKH5gb3RoZXItbGVmdG1vc3QpXG4gICAgICAgIGVsc2UgZG9cbiAgICAgICAgICB2YXIgb3RoZXItcGFyZW50ID0gb3RoZXItbGVmdG1vc3QucGFyZW50XG4gICAgICAgICAgb3RoZXItcGFyZW50LnNoaWZ0KClcbiAgICAgICAgICBvdGhlci1wYXJlbnQudW5zaGlmdChgICh+YGN1cnJlbnQpLih+YG90aGVyLWxlZnRtb3N0KSlcbiAgICAgICAgICBvdGhlclxuICAgIGN1cnJlbnRcblxuI2tlZXBtYWNybyA8LVxuICBhcml0eTogYmluYXJ5XG4gIHByZWNlZGVuY2U6IE1FRElVTVxuICBleHBhbmQ6IChjYWxsZWUsIGFyZ3MpIC0+XG4gICAgYCAofmBjYWxsZWUpKH5gYXJncylcblxuJycnXG4ja2VlcG1hY3JvIEBcbiAgdW5hcnlcbiAgSElHSFxuICBleHBhbmQ6IG1lbWJlciAtPlxuICAgIGlmIChtZW1iZXIudGFnPygpKVxuICAgICAgYHRoaXMuIH5gbWVtYmVyXG4gICAgZWxzZSBpZiAobWVtYmVyLmFycmF5PygpKVxuICAgICAgaWYgKG1lbWJlci5jb3VudCA9PSAwKVxuICAgICAgICBgdGhpc1xuICAgICAgZWxzZSBpZiAobWVtYmVyLmNvdW50ID09IDEpXG4gICAgICAgIGB0aGlzW35gbWVtYmVyXVxuICAgICAgZWxzZSBkb1xuICAgICAgICBtZW1iZXIuZXJyb3IgJ01lbWJlciBvcGVyYXRvciBhY2NlcHRzIG9ubHkgb25lIG9wZXJhbmQnXG4gICAgICAgIGB1bmRlZmluZWRcbiAgICBlbHNlXG4gICAgICBgdGhpc1t+YG1lbWJlcl1cbicnJ1xuXG4ja2VlcG1hY3JvICMtPlxuICB1bmFyeVxuICBMT1dcbiAgZXhwYW5kOiAoYm9keSkgLT5cbiAgICBpZiAodHlwZW9mIGJvZHkgPT0gJ3VuZGVmaW5lZCcgfHwgKGJvZHkuaXNQbGFjZWhvbGRlcigpICYmIGJvZHkuZ2V0U2ltcGxlVmFsdWUoKSA9PSBudWxsKSlcbiAgICAgIGJvZHkgPSBhc3QubmV3VGFnICd1bmRlZmluZWQnXG4gICAgdmFyIGFyZ3MgPSBhc3QubmV3VHVwbGUoKVxuICAgIHZhciBwcm9jZXNzLW5leHQgPSB0cnVlXG4gICAgbG9vcCAodmFyIG4gPSAxKVxuICAgICAgaWYgcHJvY2Vzcy1uZXh0XG4gICAgICAgIHByb2Nlc3MtbmV4dCA9IGZhbHNlXG4gICAgICAgIHZhclxuICAgICAgICAgIGN1cnJlbnQtaWQgPSAnIycgKyBuXG4gICAgICAgICAgY3VycmVudC1hcmctbmFtZSA9ICdfXyRhcmckJyArIG5cbiAgICAgICAgYm9keS5mb3JFYWNoUmVjdXJzaXZlXG4gICAgICAgICAgbm9kZSAtPiBkbyFcbiAgICAgICAgICAgIGlmIChub2RlLmlzUGxhY2Vob2xkZXIoKSAmJiAobm9kZS5nZXRTaW1wbGVWYWx1ZSgpID09IGN1cnJlbnQtaWQgfHwgKG4gPT0gMSAmJiBub2RlLmdldFNpbXBsZVZhbHVlKCkgPT0gJyNpdCcpKSlcbiAgICAgICAgICAgICAgaWYgKCFwcm9jZXNzLW5leHQpXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy1uZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goKGFzdC5uZXdUYWcgY3VycmVudC1hcmctbmFtZSkuaGFuZGxlQXNGdW5jdGlvbkFyZ3VtZW50KCkpXG4gICAgICAgICAgICAgIG5vZGUucmVwbGFjZVdpdGgobm9kZS5uZXdUYWcgY3VycmVudC1hcmctbmFtZSlcbiAgICAgICAgbmV4dCEgbiArIDFcbiAgICBgKH5gIGFyZ3MpIC0+ICh+YCBib2R5KVxuXG5cbjsgRmF0IGFycm93LCBiaW5kcyBgdGhpc2AgdG8gdGhlIGZ1bmN0aW9uJ3MgbGV4aWNhbCBjb250ZXh0XG4ja2VlcG1hY3JvID0+XG4gIGFyaXR5OiBiaW5hcnlcbiAgcHJlY2VkZW5jZTogRlVOQ1RJT05cbiAgbGVmdC1wcmVjZWRlbmNlOiAnRlVOQ1RJT04tTEVGVCdcbiAgZXhwYW5kOiAobGhzLCByaHMpIC0+XG4gICAgdmFyIHRyYXZlcnNlciA9ICMtPiBkbyFcbiAgICAgIGlmICgjaXQuaXNUYWcoKSAmJiAjaXQuZ2V0VGFnKCkgPT0gJ3RoaXMnKVxuICAgICAgICAjaXQucmVwbGFjZVdpdGggYCBcXGNhcHR1cmVkLXRoaXNcbiAgICAgIGlmICghICNpdC5mdW5jdGlvbi1kZWZpbml0aW9uPygpKVxuICAgICAgICAjaXQuZm9yLWVhY2ggIy0+IHRyYXZlcnNlciAjaXRcbiAgICB0cmF2ZXJzZXIgcmhzXG4gICAgdmFyIHJlc3VsdCA9IGAgZG9cbiAgICAgIHZhciBcXGNhcHR1cmVkLXRoaXMgPSB0aGlzXG4gICAgICAofmAgbGhzKSAtPiAofmAgcmhzKVxuICAgIHJlc3VsdC5yZXNvbHZlVmlydHVhbCgpXG4gICAgcmVzdWx0XG5cbiNrZWVwbWFjcm8gI2pzXG4nJydcbiAgU2FtZSBhcyBldmFsIGJ1dCBmb3IgbGl0ZXJhbCB2YWx1ZXMgYWxsb3dzIHRvIGRpcmVjdGx5IGVtYmVkIGl0IGluIHRoZVxuICBnZW5lcmF0ZWQgamF2YXNjcmlwdCBjb2RlLlxuXG4gIFVzYWdlOiBqcydiYXIgPyAxIDogLTEnXG4nJydcbiAgdW5hcnlcbiAgSElHSFxuICBleHBhbmQ6IChleHByKSAtPlxuICAgIHZhciBjb2RlID0gYCAoI2V4dGVybmFsIGV2YWwpKCB+YChleHByKSApXG4gICAgaWYgKGV4cHIudmFsdWU/KCkpXG4gICAgICBjb2RlLnNldCgnanMnLCBleHByLmdldC12YWx1ZSgpKVxuICAgIGNvZGVcblxuI2tlZXBtYWNybyAjbm8tbmV3LXNjb3BlXG4gIHVuYXJ5XG4gIExPV1xuICBleHBhbmQ6IChleHByKSAtPlxuICAgIGV4cHIuc2V0KCduby1uZXctc2NvcGUnLCB0cnVlKVxuICAgIGV4cHJcblxuXG5udWxsXG4pXG5cbiJdfQ==